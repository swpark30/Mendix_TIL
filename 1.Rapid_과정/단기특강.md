# 단기특강



## Module 4



### Mendix와 통합

- 멘딕스의 가장 중요한 기능 중 하나는 외부 시스템과의 통합 기능이다.
- 여러가지 방법으로 이 통합을 할 수 있다.
- 가장 중요한 것은 SOAP 및 REST와 같은 웹 서비스와 통합하는 기능이다.
- XML, JSON, WSDL을 지원하고 가져오는 것은 매핑을 통해 가능하므로 코드를 작성할 필요가 없다.
- 원시 데이터에 직접 액세스해야 하는 상황이 있는데 이를 위해 멘딕스에서 HttpRequest 및 HttpResponse 변수를 이용해 요청 및 응답에 액세스할 수 있다.
- Mendix Marketplace에서 사용할 수 있는 많은 커넥터 중 하나를 사용할 수 있다.
  - 데이터를 Mendix 앱으로 가져올 수 있는 AWS, Oracle, SAP, Kafka, OData 및 데이터베이스(SQL 직접 사용)용 커넥터가 있다.



### JSON Import

- JSON 형식을 복사해서 멘딕스에서 JSON 파일을 만들고 붙여넣는다.
- JSON은 값이 배열이 될 수 있는 옵션을 제공하고 배열에는 이름이 없기 때문에 멘딕스는 객체의 이름이 무엇인지 알지 못한다.
- Structure 박스에서 테이블 오른쪽에 일반 이름이 있고 앱에서 올바른 이름을 얻으려면 더 의미 있는 이름으로 변경해야 한다.



### 매핑 설정

- 데이터가 어떻게 생겼는지 멘딕스에 알려 주었으므로 이를 멘딕스 데이터 구조에 매핑해야 한다. Import mapping을 통해 할 수 있다.

1. 매핑 파일을 추가할 폴더를 마우스 오른쪽 클릭한 후 add other을 누르고 import mapping을 선택한다.(이름은 ImM_Department_Employee로 해준다.)
2. JSON structure를 선택하고 JSON파일을 골라준다.
3. 구조에서 선택하고 확인을 누른다.
4. 매핑 구조가 준비되었고 매핑을 하려면 ImM_Department_Employee 내에서 자동으로 매핑을 클릭한다.
5. 팝업은 닫아준다.



### Key로 찾기

- 동일한 직원이나 부서를 두 번 이상 가져오지 않도록 하려면 기존 객체를 일치시키는 방법을 멘딕스에 알려줘야한다. (매핑에서 주황색이나 회색객체를 더블클릭 한다.)

1. 매핑에서 Department를 더블클릭한다.
2. Find an object(by key)를 선택한다.
3. DepartmentId를 Key로 선택한다.
4. 확인을 누르고 직원에 대해서도 똑같이 한다.



## Module 5



### 도메인 모델

- 멘딕스에 포함된 ORM(Object Relational Mapping)이다. 
- 여러 데이터베이스를 지원한다.
  - 소규모 앱에 적합한 내부 데이터베이스
  - 멘딕스에서 지원하는 엔터프라이즈 데이터베이스 중 하나를 선택 가능
    - IBM DB2.
    - Microsoft SQL Server.
    - MySQL/MariaDB.
    - Oracle Database.
    - PostgreSQL. 
  - 프로젝트 설정에서 앱이 사용하는 데이터베이스를 구성할 수 있다.
    - App Explorer에서 App에 setting을 누르면 Configuration에서 데이터베이스를 정해줄 수 있다.
- 멘딕스는 데이터베이스와 앱 간의 모든 통신을 처리한다.
- 데이터 보존과 함께 앱의 데이터베이스 스키마 생성, 마이그레이션이 포함된다.
- 데이터베이스 스키마에 대한 별도의 버전 관리 시스템을 제공한다.
- 멘딕스는 유형 검색을 지원하므로 생성하는 각 엔티티는 IMendixObject라는 기본 클래스를 사용하여 조사할 수 있다.
  - 이 클래스에는 getType(), getMembers()라는 함수가 있다.
- 모든 요소는 멘딕스의 Java API를 통해 앱의 데이터에 대한 전체 액세스를 가능하게 한다.
- 멘딕스에서는 Class Table Inheritance를 사용하여 상속을 구현한다.
- 모든 엔티티는 데이터베이스에서 자체 테이블을 얻는다.
- 자식 테이블은 모두 동일한 고유 ID를 공유하기 때문에 부모 테이블에 연결된다.
- 자식 클래스에서 데이터를 검색하면 시스템은 계층을 부모 테이블로 탐색하여 부모 클래스에서 특성을 검색하고 JOIN을 하고 엔티티에 대한 전체 특성을 목록으로 가져온다.
- 영구 엔티티(파란색)는 데이터베이스에 저장되고 비영구 엔티티(노란색)는 클라이언트 세션 기간 동안의 데이터만 저장한다.



### 기타 엔티티 요소

- System members
  - 체크박스를 클릭하여 활성화 할 수 있다.

  - 엔티티에 추가되며 다른 속성에 액세스할 수 있는 모든 곳에서 사용할 수 있다.

- Validation rules
  - 유효성 검사 규칙을 추가할 수 있다.

- Event handlers
  - 이벤트 핸들러를 사용하여 객체 이벤트 전후에 로직을 트리거할 수 있다.

- Indexes
  - 이 탭에서는 열에 대한 인덱스를 설정하여 열을 보다 효율적으로 검색할 수있다.

- Access rules
  - 데이터가 안전한지 확인하기 위해 액세스 규칙을 구성할 수 있다.
  - App Security 레벨이 Production으로 설정된 경우에만 사용가능하다.






## Module 6 (데이터 관리)

- 멘딕스 클라이언트는 Model, view, Controller(MVC) 패턴을 따른다.



### 멘딕스 템플릿 엔진

- MVC의 View 부분은 멘딕스 템플릿 엔진에 의해 처리된다.
- JavaScript, CSS, HTML5같은 최신 웹 기반 클라이언트를 제공한다.
- 클라이언트 구현은 React 및 SCSS와 같은 기술을 사용한다.
- 클라이언트는 Twitter Bootstrap 기반 CSS를 사용하여 페이지를 표시한다.
- 멘딕스 뒤에서는 페이지에 대한 XML파일을 생성한다.



### 레이아웃

- 레이아웃 구성 요소 자체도 XML파일이며 HTML 요소를 포함한다. 
- 클라이언트는 적절한 XML파일을 다운로드하여 페이지를 작성한다.
- XML파일은 템플릿 엔진에 의해 구문 분석 된다.



### Data containers

- 페이지 편집기의 주요 구성 요소 중 하나이다.
- 런타임과 프론트엔드 간의 열결을 정렬하여 MVC기반에서 Controller역할을 한다.
- 멘딕스는 데이터 컨테이너로 4개의 위젯을 제공한다.
  - Data View
    - 엔티티의 단일 인스턴스를 표시하는데 사용된다.
    - 1-1, 1-* 관계를 통해 엔티티에 액세스할 수 있는 중첩을 지원한다.
    - Context를 통해 페이지에 전달되는 단일 객체를 표시할 수 있는 유일한 위젯이다.
  - Data Grid
    - 데이터를 테이블 형식으로 표시하며 객체 목록을 표시하는데 주로 사용된다.
    - 많은 그리드 기능을 지원하며 서버측 정렬, 검색, 페이징 같은 작업을 할 수 있다.
    - 데이터베이스에서 데이터를 가져오지만 연결을 통해 데이터를 가져올 수 있다.
  - Template Grid
    - 이 위젯은 타일형식으로 객체 목록을 표시한다.
    - 프로필 사진과 함께 직원 목록을 표시할 수 있다.
    - 데이터 그리드와 마찬가지로 데이터베이스에서 데이터를 가져오지만 연결도 사용할 수 있다.
  - List View
    - 객체 목록을 보여준다.
    - 각 객체는 템플릿을 사용하여 표시된다.



### 네비게이션 메뉴 

- 멘딕스에서 7가지 네비게이션 프로필을 제공한다.
  - Responsive web
  - Responsive web offline
  - Tablet web
  - Tablet web offline
  - Phone web
  - Phone web offline
  - Native mobile(tablet & phone)



### 페이지 스타일링

- App Explorer에서 Setting을 더블클릭하여 설정창을 열고 테마탭을 들어간다.
- 테마탭에는 UI 리소스 모듈로 표시된 모든 모듈의 목록이 포함된다.
- CSS파일에 추가되는 명시적 순서를 설정할 수 있고 목록에서 순서가 아래에 있을수록 우선 순위가 높다.





## Module 7 (데이터와 상호 작용)



### 마이크로플로우

- 마이크로플로우 작업은 Java로 구현되며 프로젝트에 모듈을 추가할 수 있다.
- 모듈에는 이러한 작업에 대한 전체 Java 소스 코드가 포함되어 있다. 
- 필요한 조치를 제공하는 모듈이 없으면 언제든지 Java를 사용하여 고유한 조치를 작성할 수 있다.
- 이러한 Java 작업의 소스 파일은 프로젝트와 함께 저장되고 앱을 배포할 때 컴파일된다.
- 명명법
  - {접두사}`_`{엔티티}`_`{작업}
  - 트리거하는 이벤트 유형, 처리 중인 주요 엔티티 이름, 수행할 작업순으로 작성한다.
  - 주체가 없거나 다른 이름을 사용할 수 있지만 중요한건 이름이 목적을 명확히 나타내느냐는 것이다.

- 여러가지 방법으로 트리거될 수 있다.
  - 버튼의 온 클릭 동작에 의해
  - UI 요소에 대한 입장/변경/휴가 이벤트에 의해
  - 동적 UI 요소의 on-load 이벤트에 의해
  - 엔티티의 이벤트 핸들러에 의해
  - 프로젝트 Explorer 메뉴에서
  - 사용자 정의 Explorer 메뉴에서
  - Import mapping에서 
  - Export service definition에서 
  - schedule에서
  - 애플리케이션 시작 후
  - 애플리케이션을 종료하기 전에
  - 상태 확인 중일때



