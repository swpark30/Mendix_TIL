# Module 3 (단순 제약 조건 사용)



휴가 요청을 추적하는 앱을 만든다.



XPath에 대한 실습을 하려면 먼저 앱을 설정해야한다.

- 새 앱 만들기
- 보안 구성
- 도메인 모델 생성
- 일부 페이지 만들기



### Enumeration(열거)란 무엇인가?

- 미리 정해진 문자열 값들의 목록이 있는 속성이다.
- 드롭 다운이나 라디오 버튼에서 선택할 수 있고 데이터 일관성을 유지하기 쉽다.
- 자바에서의 배열과 같은 의미이다.



### Enumeration을 사용하여 데이터 제한

- 제출된 요청만 표시하고 다른 유형은 보관 탭으로 분류한다.



### Mendix 시스템 변수 사용

- 현재 사용자, 해당 사용자 역할, 현재 세션, 데이터를 더 잘 제어할 수 있는 날짜 및 시간에 대한 참조가 포함되어 있다.
- 이런 변수는 항상 [%]문자로 시작한다.
- 가장 유용한 시스템 변수 중 2가지는 [%CurrentObject%]와 [%CurrentUser%]이다.
- [%CurrentObject%]
  - 현재 context 객체의 고유 식별자를 나타낸다.
  - Data view 내에 포함된 Data grid의 경우 이 변수가 Data view의 객체를 나타낸다.
  - Data view의 객체는 context 객체로 알려져 있다.
  - context 객체가 없으면 이 변수는 자동 완성에 나타나지 않는다.
- [%CurrentUser%]
  - 애플리케이션의 현재 사용자를 참조하는 빠른 방법을 제공한다.6
  - XPath가 사용되는 모든 위치에서 사용할 수 있다.
  - 보안 제약 조건을 생성할 때도 유용하다.
  - Scheduled Events나 After Startup microflows에는 이 변수를 사용하지 않는게 좋다. 이걸 사용하는 순간에는 사용자가 없을 것이기 때문이다.



### 시스템 변수를 사용한 제약 

- 마이크로플로우의 Retrieve에서 from database로 하고 XPath 창에 [id = '[%currentUser%]']라고 적는다.



### XPath를 사용하여 보안 규칙 설정

- 사용자가 제출한 요청만 볼 수 있도록 하여 휴가 요청을 보호할 수 있다.
- 사용자가 요청 상태를 변경할 수 없게 해야한다.
- 모듈 보안에서 entity 액세스 탭에서 설정할때 XPath를 사용한다.