# Module 5 (Guest들에게 정보 알려주기)

- 뉴스레터 작성
  - 뉴스레터 수신을 원하는 경우 확인란을 선택하는 옵션을 만든다
  - 이벤트에 대해 흥미를 갖게 하려면 뉴스레터를 만든다
  - 뉴스레터를 구독한 사람들에게 이메일을 보내는 작업을 해주면 좋다.



- 뉴스레터 보내기

  - 앱이 보낼 뉴스레터가 있는지 매일 확인하고 보낼 뉴스레터가 있으면 자동으로 보내지길 원한다.

  - 이 기능을 만들기 위해 필요한 기능

    - Scheduled Events

      - 이걸 사용하면 앱이 특정 시점에 마이크로플로우를 실행하도록 할 수 있다.
      - 일정한 간격으로 반복 시킬 수도 있다.
      - 1개월 간격이 주어지면 30일마다 트리거된다.
      - 마이크로플로우는 예약된 이벤트가 활성화된 경우에만 실행된다

      

    - Loops

      - 객체 List를 반복하는데 사용한다.
      - List의 모든 객체에 대해 루프 내부의 흐름이 실행된다.
      - 시작,종료점을 제외하고 일반 마이크로플로우에서 사용되는 모든 요소를 사용할 수 있다.
      - 루프에서만 break점과 continue점을 사용할 수 있다
      - 루프 반복하는 객체를 iterator 라고 하며 마이크로플로우의 입력매개변수와 동일한 생김새이다.

      

    - Aggregate Functions (집계 함수)

      - Aggregate List를 사용하여 객체 List에서 객체의 최대값, 최소값, 합계, 평균 및 총량과 같은 집계 값을 계산할 수 있다.
      - retrieve와 함께 사용할 수도 있다.
        - 데이터베이스에 대한 검색이 완료되면 쿼리가 데이터베이스로 전송되고 집계함수를 사용하면 이 쿼리도 전송되어 결과를 얻는다.

      

    - Batches (일괄 처리)

      - 대량의 데이터를 처리해야할 때 사용된다.
      - 전체 데이터를 일괄 처리라고 하는 더 작은 부분으로 분할하여 레코드의 하위 집합을 한번에 모두 처리하는 대신 한번에 하나씩 업데이트할 수 있도록 한다.
      - 일괄 retrieve는 retrieve 작업에서 사용자 지정 범위 옵션을 사용해서 구성할 수 있다.
      - 일괄처리 크기에 대해 제한을 설정하여 앱의 성능에 부정적 영향을 주는 레코드를 메모리에 넣지 않을 수 있다.
      - 오프셋을 사용하면 테이블에서 retrieve를 시작할 위치를 구성할 수도 있다.



### 예약된 이벤트 만들기

- 특정 시간에 이메일을 통해 방문자에게 뉴스레터가 전송되도록 해야 한다.

1. 모듈을 오른쪽 클릭하여 add other에서 scheduled event를 누른다.
2. event를 더블클릭하여 속성창이 나오면 마이크로플로우를 선택해준다.
3. SCE_Newsletter_Send라는 새 마이크로플로우를 만든다.
4. 시작 시간을 내일 오전 9시에 시작하도록 설정하고 반복을 예로 선택하고 간격을 1일로 설정한다.



### 루프 만들기

- 